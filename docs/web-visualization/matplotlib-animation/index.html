<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="https://gavinw.me/pythonic/rss.xml" rel="alternate" type="application/rss+xml" title="RSS">
    <link href="https://gavinw.me/pythonic/styles.css" rel="stylesheet">
    <title>Pythonic</title>
</head>
<body>
<div class="container">
    
<div class="row">
<div class="col">
    <h1>Animation</h1>
    
        <h6>November  6, 2022</h6>
    
    <hr>
    <p>Matplotlib provides two animation classes for animating a plot figure. The example below uses the ArtistAnimation class. The animation can be displayed just like any other Matplotlib figure and saved to file as various video formats.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>numpy </span><span style="color:#b48ead;">as </span><span>np
</span><span style="color:#b48ead;">import </span><span>matplotlib.pyplot </span><span style="color:#b48ead;">as </span><span>plt
</span><span style="color:#b48ead;">from </span><span>matplotlib.animation </span><span style="color:#b48ead;">import </span><span>ArtistAnimation
</span><span>
</span><span>fig, ax = plt.</span><span style="color:#bf616a;">subplots</span><span>(</span><span style="color:#bf616a;">tight_layout</span><span>=</span><span style="color:#d08770;">True</span><span>)
</span><span>ax.</span><span style="color:#bf616a;">set_xlim</span><span>(</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">2</span><span>*np.pi)
</span><span>ax.</span><span style="color:#bf616a;">set_ylim</span><span>(-</span><span style="color:#d08770;">1.1</span><span>, </span><span style="color:#d08770;">1.1</span><span>)
</span><span>
</span><span>xs = np.</span><span style="color:#bf616a;">linspace</span><span>(</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">2</span><span>*np.pi, </span><span style="color:#d08770;">128</span><span>)
</span><span>x = []
</span><span>y = []
</span><span>ims = []
</span><span>
</span><span style="color:#b48ead;">for </span><span>i </span><span style="color:#b48ead;">in </span><span style="color:#96b5b4;">range</span><span>(</span><span style="color:#96b5b4;">len</span><span>(xs)):
</span><span>    x.</span><span style="color:#bf616a;">append</span><span>(xs[i])
</span><span>    y.</span><span style="color:#bf616a;">append</span><span>(np.</span><span style="color:#bf616a;">sin</span><span>(xs[i]))
</span><span>    im, = ax.</span><span style="color:#bf616a;">plot</span><span>(x, y, &#39;</span><span style="color:#a3be8c;">-ro</span><span>&#39;, </span><span style="color:#bf616a;">alpha</span><span>=</span><span style="color:#d08770;">0.5</span><span>)
</span><span>    ims.</span><span style="color:#bf616a;">append</span><span>([im])
</span><span>
</span><span>ani = </span><span style="color:#bf616a;">ArtistAnimation</span><span>(fig, ims, </span><span style="color:#bf616a;">interval</span><span>=</span><span style="color:#d08770;">40</span><span>, </span><span style="color:#bf616a;">repeat</span><span>=</span><span style="color:#d08770;">False</span><span>)
</span><span>
</span><span style="color:#65737e;"># Save animation to a movie file, requires the ffmpeg framework
</span><span>ani.</span><span style="color:#bf616a;">save</span><span>(&#39;</span><span style="color:#a3be8c;">artistanim.mp4</span><span>&#39;, </span><span style="color:#bf616a;">fps</span><span>=</span><span style="color:#d08770;">30</span><span>)
</span><span>
</span><span>plt.</span><span style="color:#bf616a;">show</span><span>()
</span></code></pre>
<p>This example creates a Matplotlib animation using the FuncAnimation class.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>numpy </span><span style="color:#b48ead;">as </span><span>np
</span><span style="color:#b48ead;">import </span><span>matplotlib.pyplot </span><span style="color:#b48ead;">as </span><span>plt
</span><span style="color:#b48ead;">from </span><span>matplotlib.animation </span><span style="color:#b48ead;">import </span><span>FuncAnimation
</span><span>
</span><span>fig, ax = plt.</span><span style="color:#bf616a;">subplots</span><span>(</span><span style="color:#bf616a;">tight_layout</span><span>=</span><span style="color:#d08770;">True</span><span>)
</span><span>ax.</span><span style="color:#bf616a;">set_xlim</span><span>(</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">2</span><span>*np.pi)
</span><span>ax.</span><span style="color:#bf616a;">set_ylim</span><span>(-</span><span style="color:#d08770;">1.1</span><span>, </span><span style="color:#d08770;">1.1</span><span>)
</span><span>line, = ax.</span><span style="color:#bf616a;">plot</span><span>([], [], &#39;</span><span style="color:#a3be8c;">-ro</span><span>&#39;, </span><span style="color:#bf616a;">alpha</span><span>=</span><span style="color:#d08770;">0.5</span><span>)
</span><span>
</span><span>xs = np.</span><span style="color:#bf616a;">linspace</span><span>(</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">2</span><span>*np.pi, </span><span style="color:#d08770;">128</span><span>)
</span><span>x = []
</span><span>y = []
</span><span>
</span><span>
</span><span style="color:#b48ead;">def </span><span style="color:#8fa1b3;">update</span><span>(</span><span style="color:#bf616a;">i</span><span>):
</span><span>    x.</span><span style="color:#bf616a;">append</span><span>(i)
</span><span>    y.</span><span style="color:#bf616a;">append</span><span>(np.</span><span style="color:#bf616a;">sin</span><span>(i))
</span><span>    line.</span><span style="color:#bf616a;">set_data</span><span>(x, y)
</span><span>    </span><span style="color:#b48ead;">return </span><span>line,
</span><span>
</span><span>
</span><span>ani = </span><span style="color:#bf616a;">FuncAnimation</span><span>(fig, update, </span><span style="color:#bf616a;">frames</span><span>=xs, </span><span style="color:#bf616a;">interval</span><span>=</span><span style="color:#d08770;">20</span><span>, </span><span style="color:#bf616a;">repeat</span><span>=</span><span style="color:#d08770;">False</span><span>, </span><span style="color:#bf616a;">blit</span><span>=</span><span style="color:#d08770;">True</span><span>)
</span><span>
</span><span style="color:#65737e;"># Save animation to a movie file, requires the ffmpeg framework
</span><span>ani.</span><span style="color:#bf616a;">save</span><span>(&#39;</span><span style="color:#a3be8c;">funcanim.mp4</span><span>&#39;, </span><span style="color:#bf616a;">fps</span><span>=</span><span style="color:#d08770;">30</span><span>)
</span><span>
</span><span style="color:#65737e;"># Uncomment to display animated figure
</span><span>plt.</span><span style="color:#bf616a;">show</span><span>()
</span></code></pre>
<p>Both examples generate the animated line plot shown below.</p>
<p><video controls style="max-width:600px;">
    <source src="/pythonic/img/matplotlib-animation.mp4" type="video/mp4">
    Sorry, your browser doesn't support this embedded video.
</video></p>

</div>
</div>
<div class="row my-5">
<div class="col">
    <p class="text-center small my-5">
        <a href="https://gavinw.me/pythonic/">Pythonic Programming</a> Â© 2023 <br>
        Built by <a href="https://gavinw.me">Gavin Wiggins</a>
    </p>
</div>
</div>

</div>
</body>
</html>