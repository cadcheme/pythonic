<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="https://gavinw.me/pythonic/rss.xml" rel="alternate" type="application/rss+xml" title="RSS">
    <link href="https://gavinw.me/pythonic/styles.css" rel="stylesheet">
    <title>Pythonic</title>
</head>
<body>
<div class="container">
    
<div class="row">
<div class="col">
    <h1>Save and load arrays</h1>
    
        <h6>November  7, 2022</h6>
    
    <hr>
    <p>NumPy arrays can be saved and loaded using different file formats. Examples of using the NumPy file formats <code>.npy</code> and <code>.npz</code> as well as a plain text format are given below.</p>
<h2 id="using-the-npy-format">Using the npy format</h2>
<p>Use the NumPy <code>save()</code> function to save an array to a <code>.npy</code> file. Use the <code>load()</code> function to load the array from the file.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>numpy </span><span style="color:#b48ead;">as </span><span>np
</span><span>
</span><span style="color:#65737e;"># Save an array named `z` to an `.npy` file
</span><span>
</span><span>z = np.</span><span style="color:#bf616a;">array</span><span>([[</span><span style="color:#d08770;">3</span><span>, </span><span style="color:#d08770;">4</span><span>, </span><span style="color:#d08770;">8.91</span><span>], [</span><span style="color:#d08770;">1.05</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">7</span><span>], [</span><span style="color:#d08770;">5.4</span><span>, </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#d08770;">1</span><span>]])
</span><span>
</span><span style="color:#b48ead;">with </span><span style="color:#96b5b4;">open</span><span>(&#39;</span><span style="color:#a3be8c;">zarray.npy</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">wb</span><span>&#39;) </span><span style="color:#b48ead;">as </span><span>file:
</span><span>    np.</span><span style="color:#bf616a;">save</span><span>(file, z)
</span><span>
</span><span style="color:#65737e;"># Load the array data from the `.npy` file into `zz`
</span><span>
</span><span style="color:#b48ead;">with </span><span style="color:#96b5b4;">open</span><span>(&#39;</span><span style="color:#a3be8c;">zarray.npy</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">rb</span><span>&#39;) </span><span style="color:#b48ead;">as </span><span>file:
</span><span>    zz = np.</span><span style="color:#bf616a;">load</span><span>(file)
</span><span>
</span><span style="color:#65737e;"># Print results
</span><span>
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">z is</span><span style="color:#96b5b4;">\n</span><span>&#39;, z)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">zz is</span><span style="color:#96b5b4;">\n</span><span>&#39;, zz)
</span></code></pre>
<p>Output from the above example is shown below.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>z is
</span><span> [[3.   4.   8.91]
</span><span>  [1.05 2.   7.  ]
</span><span>  [5.4  3.   1.  ]]
</span><span>
</span><span>zz is
</span><span> [[3.   4.   8.91]
</span><span>  [1.05 2.   7.  ]
</span><span>  [5.4  3.   1.  ]]
</span></code></pre>
<h2 id="using-the-npz-format">Using the npz format</h2>
<p>Use the <code>savez()</code> function to save several arrays to a single <code>.npz</code> file. Use the <code>load()</code> function to load the saved arrays from the file.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>numpy </span><span style="color:#b48ead;">as </span><span>np
</span><span>
</span><span style="color:#65737e;"># Save arrays `a`, `b`, `c` to an `.npz` file
</span><span>
</span><span>a = np.</span><span style="color:#bf616a;">array</span><span>([[</span><span style="color:#d08770;">4</span><span>, </span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">81</span><span>], [</span><span style="color:#d08770;">10</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">7</span><span>], [</span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">21</span><span>, </span><span style="color:#d08770;">5</span><span>]])
</span><span>b = np.</span><span style="color:#bf616a;">array</span><span>([[</span><span style="color:#d08770;">90</span><span>, </span><span style="color:#d08770;">51</span><span>, </span><span style="color:#d08770;">81</span><span>], [</span><span style="color:#d08770;">10</span><span>, </span><span style="color:#d08770;">21</span><span>, </span><span style="color:#d08770;">74</span><span>], [</span><span style="color:#d08770;">19</span><span>, </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">15</span><span>]])
</span><span>c = np.</span><span style="color:#bf616a;">array</span><span>([[</span><span style="color:#d08770;">0.1</span><span>, </span><span style="color:#d08770;">5.8</span><span>, </span><span style="color:#d08770;">0.71</span><span>], [</span><span style="color:#d08770;">3.9</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">7.9</span><span>], [</span><span style="color:#d08770;">1.05</span><span>, </span><span style="color:#d08770;">21</span><span>, </span><span style="color:#d08770;">5</span><span>]])
</span><span>
</span><span style="color:#b48ead;">with </span><span style="color:#96b5b4;">open</span><span>(&#39;</span><span style="color:#a3be8c;">zdata.npz</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">wb</span><span>&#39;) </span><span style="color:#b48ead;">as </span><span>file:
</span><span>    np.</span><span style="color:#bf616a;">savez</span><span>(file, </span><span style="color:#bf616a;">a</span><span>=a, </span><span style="color:#bf616a;">b</span><span>=b, </span><span style="color:#bf616a;">c</span><span>=c)
</span><span>
</span><span style="color:#65737e;"># Load arrays `aa`, `bb`, `cc` from the `.npz` file
</span><span>
</span><span style="color:#b48ead;">with </span><span>np.</span><span style="color:#bf616a;">load</span><span>(&#39;</span><span style="color:#a3be8c;">zdata.npz</span><span>&#39;) </span><span style="color:#b48ead;">as </span><span>data:
</span><span>    aa = data[&#39;</span><span style="color:#a3be8c;">a</span><span>&#39;]
</span><span>    bb = data[&#39;</span><span style="color:#a3be8c;">b</span><span>&#39;]
</span><span>    cc = data[&#39;</span><span style="color:#a3be8c;">c</span><span>&#39;]
</span><span>
</span><span style="color:#65737e;"># Print results
</span><span>
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">a is</span><span style="color:#96b5b4;">\n</span><span>&#39;, a)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">b is</span><span style="color:#96b5b4;">\n</span><span>&#39;, b)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">c is</span><span style="color:#96b5b4;">\n</span><span>&#39;, c)
</span><span>
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">aa is</span><span style="color:#96b5b4;">\n</span><span>&#39;, aa)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">bb is</span><span style="color:#96b5b4;">\n</span><span>&#39;, bb)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">cc is</span><span style="color:#96b5b4;">\n</span><span>&#39;, cc)
</span><span>
</span></code></pre>
<p>Output from this example is given below.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>a is
</span><span> [[ 4  5 81]
</span><span>  [10  2  7]
</span><span>  [ 1 21  5]]
</span><span>b is
</span><span> [[90 51 81]
</span><span>  [10 21 74]
</span><span>  [19  1 15]]
</span><span>c is
</span><span> [[ 0.1   5.8   0.71]
</span><span>  [ 3.9   2.    7.9 ]
</span><span>  [ 1.05 21.    5.  ]]
</span><span>
</span><span>aa is
</span><span> [[ 4  5 81]
</span><span>  [10  2  7]
</span><span>  [ 1 21  5]]
</span><span>bb is
</span><span> [[90 51 81]
</span><span>  [10 21 74]
</span><span>  [19  1 15]]
</span><span>cc is
</span><span> [[ 0.1   5.8   0.71]
</span><span>  [ 3.9   2.    7.9 ]
</span><span>  [ 1.05 21.    5.  ]]
</span></code></pre>
<h2 id="using-plain-text-format">Using plain text format</h2>
<p>A plain text format can also be used to save and load a NumPy array with the <code>savetxt()</code> and <code>loadtxt()</code> functions.</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>numpy </span><span style="color:#b48ead;">as </span><span>np
</span><span>
</span><span style="color:#65737e;"># Save array to a text file
</span><span>
</span><span>a = np.</span><span style="color:#bf616a;">array</span><span>([[</span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">3</span><span>], [</span><span style="color:#d08770;">4</span><span>, </span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">6</span><span>], [</span><span style="color:#d08770;">7</span><span>, </span><span style="color:#d08770;">8</span><span>, </span><span style="color:#d08770;">9</span><span>]])
</span><span>
</span><span>np.</span><span style="color:#bf616a;">savetxt</span><span>(&#39;</span><span style="color:#a3be8c;">array.txt</span><span>&#39;, a)
</span><span>
</span><span style="color:#65737e;"># Load array from a text file named `array.txt`
</span><span>
</span><span>b = np.</span><span style="color:#bf616a;">loadtxt</span><span>(&#39;</span><span style="color:#a3be8c;">array.txt</span><span>&#39;)
</span><span>
</span><span style="color:#65737e;"># Print comparison of `a` and `b`
</span><span>
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">a is</span><span style="color:#96b5b4;">\n</span><span>&#39;, a)
</span><span style="color:#96b5b4;">print</span><span>(&#39;</span><span style="color:#a3be8c;">b is</span><span style="color:#96b5b4;">\n</span><span>&#39;, b)
</span></code></pre>

</div>
</div>
<div class="row my-5">
<div class="col">
    <p class="text-center small my-5">
        <a href="https://gavinw.me/pythonic/">Pythonic Programming</a> © 2023 <br>
        Built by <a href="https://gavinw.me">Gavin Wiggins</a>
    </p>
</div>
</div>

</div>
</body>
</html>