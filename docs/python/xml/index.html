<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="https://gavinw.me/pythonic/rss.xml" rel="alternate" type="application/rss+xml" title="RSS">
    <link href="https://gavinw.me/pythonic/styles.css" rel="stylesheet">
    <title>Pythonic</title>
</head>
<body>
<div class="container">
    
<div class="row">
<div class="col">
    <h1>XML</h1>
    
        <h6>November  8, 2022</h6>
    
    <hr>
    <p>There are several XML parsers available in the Python standard library. Below is an example of using the ElementTree module.</p>
<pre data-lang="xml" style="background-color:#2b303b;color:#c0c5ce;" class="language-xml "><code class="language-xml" data-lang="xml"><span style="color:#65737e;">&lt;!-- Example XML file named sample.xml --&gt;
</span><span>
</span><span>&lt;?</span><span style="color:#bf616a;">xml </span><span style="color:#d08770;">version</span><span>=&quot;</span><span style="color:#a3be8c;">1.0</span><span>&quot;?&gt;
</span><span>&lt;</span><span style="color:#bf616a;">Tests </span><span style="color:#d08770;">xmlns</span><span>=&quot;</span><span style="color:#a3be8c;">http://www.adatum.com</span><span>&quot;&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0001</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">CMD</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Convert number to string&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;Examp1.EXE&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;1&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;One&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0002</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">CMD</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Find succeeding characters&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;Examp2.EXE&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;abc&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;def&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0003</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">GUI</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Convert multiple numbers to strings&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;Examp2.EXE /Verbose&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;123&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;One Two Three&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0004</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">GUI</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Find correlated key&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;Examp3.EXE&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;a1&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;b1&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0005</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">GUI</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Count characters&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;FinalExamp.EXE&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;This is a test&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;14&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>  &lt;</span><span style="color:#bf616a;">Test </span><span style="color:#d08770;">TestId</span><span>=&quot;</span><span style="color:#a3be8c;">0006</span><span>&quot; </span><span style="color:#d08770;">TestType</span><span>=&quot;</span><span style="color:#a3be8c;">GUI</span><span>&quot;&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Name</span><span>&gt;Another Test&lt;/</span><span style="color:#bf616a;">Name</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">CommandLine</span><span>&gt;Examp2.EXE&lt;/</span><span style="color:#bf616a;">CommandLine</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Input</span><span>&gt;Test Input&lt;/</span><span style="color:#bf616a;">Input</span><span>&gt;
</span><span>    &lt;</span><span style="color:#bf616a;">Output</span><span>&gt;10&lt;/</span><span style="color:#bf616a;">Output</span><span>&gt;
</span><span>  &lt;/</span><span style="color:#bf616a;">Test</span><span>&gt;
</span><span>&lt;/</span><span style="color:#bf616a;">Tests</span><span>&gt;
</span></code></pre>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#65737e;">&quot;&quot;&quot;
</span><span style="color:#65737e;">Example of parsing an XML file named sample.xml and printing the parsed data
</span><span style="color:#65737e;">to the screen.
</span><span style="color:#65737e;">&quot;&quot;&quot;
</span><span>
</span><span style="color:#b48ead;">import </span><span>xml.etree.ElementTree </span><span style="color:#b48ead;">as </span><span style="color:#bf616a;">ET
</span><span>
</span><span style="color:#b48ead;">with </span><span style="color:#96b5b4;">open</span><span>(&#39;</span><span style="color:#a3be8c;">sample.xml</span><span>&#39;) </span><span style="color:#b48ead;">as </span><span>file:
</span><span>    tree = ET.</span><span style="color:#bf616a;">parse</span><span>(file)
</span><span>    root = tree.</span><span style="color:#bf616a;">getroot</span><span>()
</span><span>
</span><span style="color:#b48ead;">for </span><span>rt </span><span style="color:#b48ead;">in </span><span>root:
</span><span>    testid = rt.attrib[&#39;</span><span style="color:#a3be8c;">TestId</span><span>&#39;]
</span><span>    testtype = rt.attrib[&#39;</span><span style="color:#a3be8c;">TestType</span><span>&#39;]
</span><span>    name = rt[</span><span style="color:#d08770;">0</span><span>].text
</span><span>    cmdline = rt[</span><span style="color:#d08770;">1</span><span>].text
</span><span>    enput = rt[</span><span style="color:#d08770;">2</span><span>].text
</span><span>    output = rt[</span><span style="color:#d08770;">3</span><span>].text
</span><span>
</span><span>    </span><span style="color:#96b5b4;">print</span><span>(
</span><span>        &#39;</span><span style="color:#a3be8c;">---</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">TestId        </span><span>{testid}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">TestType      </span><span>{testtype}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">Name          </span><span>{name}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">CommandLine   </span><span>{cmdline}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">Input         </span><span>{enput}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        </span><span style="color:#b48ead;">f</span><span>&#39;</span><span style="color:#a3be8c;">Output        </span><span>{output}</span><span style="color:#96b5b4;">\n</span><span>&#39;
</span><span>        &#39;</span><span style="color:#a3be8c;">---</span><span style="color:#96b5b4;">\n</span><span>&#39;)
</span></code></pre>
<p>Running the above example in the terminal prints the following:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>---
</span><span>TestId        0001
</span><span>TestType      CMD
</span><span>Name          Convert number to string
</span><span>CommandLine   Examp1.EXE
</span><span>Input         1
</span><span>Output        One
</span><span>---
</span><span>
</span><span>---
</span><span>TestId        0002
</span><span>TestType      CMD
</span><span>Name          Find succeeding characters
</span><span>CommandLine   Examp2.EXE
</span><span>Input         abc
</span><span>Output        def
</span><span>---
</span><span>
</span><span>---
</span><span>TestId        0003
</span><span>TestType      GUI
</span><span>Name          Convert multiple numbers to strings
</span><span>CommandLine   Examp2.EXE /Verbose
</span><span>Input         123
</span><span>Output        One Two Three
</span><span>---
</span><span>
</span><span>---
</span><span>TestId        0004
</span><span>TestType      GUI
</span><span>Name          Find correlated key
</span><span>CommandLine   Examp3.EXE
</span><span>Input         a1
</span><span>Output        b1
</span><span>---
</span><span>
</span><span>---
</span><span>TestId        0005
</span><span>TestType      GUI
</span><span>Name          Count characters
</span><span>CommandLine   FinalExamp.EXE
</span><span>Input         This is a test
</span><span>Output        14
</span><span>---
</span><span>
</span><span>---
</span><span>TestId        0006
</span><span>TestType      GUI
</span><span>Name          Another Test
</span><span>CommandLine   Examp2.EXE
</span><span>Input         Test Input
</span><span>Output        10
</span><span>---
</span></code></pre>
<h2 id="further-reading">Further reading</h2>
<p>See the resources below for more information about XML parsing in Python.</p>
<ul>
<li><a href="https://realpython.com/python-xml-parser/#choose-the-right-xml-parsing-model">A Roadmap to XML Parsers in Python</a></li>
<li><a href="https://docs.python.org/3/library/xml.html">XML Processing Modules</a></li>
</ul>

</div>
</div>
<div class="row my-5">
<div class="col">
    <p class="text-center small my-5">
        <a href="https://gavinw.me/pythonic/">Pythonic Programming</a> © 2023 <br>
        Built by <a href="https://gavinw.me">Gavin Wiggins</a>
    </p>
</div>
</div>

</div>
</body>
</html>